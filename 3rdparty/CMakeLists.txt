CMAKE_MINIMUM_REQUIRED(VERSION 3.10)
PROJECT(AICore3rdparty)

IF(NOT TARGET common_utils)
    MESSAGE(STATUS "common_utils target not found. Adding subdirectory...")
    ADD_SUBDIRECTORY(cpp-common-utils EXCLUDE_FROM_ALL)
ELSE()
    MESSAGE(STATUS "common_utils target already exists. Skipping.")
ENDIF()

IF(NOT TARGET encrypt)
    MESSAGE(STATUS "encrypt target not found. Adding subdirectory...")
    ADD_SUBDIRECTORY(encryption-tool EXCLUDE_FROM_ALL)
ELSE()
    MESSAGE(STATUS "encrypt target already exists. Skipping.")
ENDIF()

IF(NOT TARGET logger)
    MESSAGE(STATUS "logger target not found. Adding subdirectory...")
    ADD_SUBDIRECTORY(logger EXCLUDE_FROM_ALL)
ELSE()
    MESSAGE(STATUS "logger target already exists. Skipping.")
ENDIF()

IF(NOT TARGET gtest)
    MESSAGE(STATUS "gtest target not found. Adding subdirectory...")
    ADD_SUBDIRECTORY(googletest EXCLUDE_FROM_ALL)
ELSE()
    MESSAGE(STATUS "gtest target already exists. Skipping.")
ENDIF()

FILE(MAKE_DIRECTORY ${PROJECT_INCLUDE_DIR})
FILE(COPY nlohmann DESTINATION ${PROJECT_INCLUDE_DIR})
